{% extends 'components/base.html.twig' %}

{% block title %}Imagin'Woo - Actualités{% endblock %}

{% block dataController %}
    actus
{% endblock %}

{% block body %}
    <section class="page-section container">
        <nav aria-label="Page navigation example" class="">
            <ul class="pagination justify-content-center flex-wrap">
                {% if year+1 in years %}
                    <li class="page-item h-auto d-flex align-items-stretch"><a class="page-link d-flex align-items-center" href="{{ path('app_actus', {'year': years[0]}) }}"><i class="bi bi-chevron-double-left"></i></a></li>
                    <li class="page-item h-auto d-none d-md-flex align-items-stretch"><a class="page-link d-flex align-items-center" href="{{ path('app_actus', {'year': year+1}) }}"><i class="bi bi-chevron-left ms-1"></i> Page précédente</a></li>
                    {% if year+3 in years %}
                        <li class="page-item h-auto d-flex align-items-stretch"><a class="page-link d-flex align-items-center disabled"> ... </a></li>
                    {% endif %}
                    {% if year+2 in years %}
                        <li class="page-item h-auto d-flex align-items-stretch"><a class="page-link d-flex align-items-center" href="{{ path('app_actus', {'year': year+2}) }}">{{ year+2 }}</a></li>
                    {% endif %}
                    <li class="page-item h-auto d-flex align-items-stretch"><a class="page-link d-flex align-items-center" href="{{ path('app_actus', {'year': year+1}) }}">{{ year+1 }}</a></li>
                {% endif %}
                <li class="page-item h-auto d-flex align-items-stretch"><a class="page-link d-flex align-items-center active" href="{{ path('app_actus', {'year': year}) }}">{{ year }}</a></li>
                {% if year-1 in years %}
                    <li class="page-item h-auto d-flex align-items-stretch"><a class="page-link d-flex align-items-center" href="{{ path('app_actus', {'year': year-1}) }}">{{ year-1 }}</i></a></li>
                    {% if year-2 in years %}
                        <li class="page-item h-auto d-flex align-items-stretch"><a class="page-link d-flex align-items-center" href="{{ path('app_actus', {'year': year-2}) }}">{{ year-2 }}</i></a></li>
                    {% endif %}
                    {% if year-3 in years %}
                        <li class="page-item h-auto d-flex align-items-stretch"><a class="page-link d-flex align-items-center disabled"> ... </a></li>
                    {% endif %}
                    <li class="page-item h-auto d-none d-md-flex align-items-stretch"><a class="page-link d-flex align-items-center" href="{{ path('app_actus', {'year': year-1}) }}">Page suivante <i class="bi bi-chevron-right me-1"></i></a></li>
                    <li class="page-item h-auto d-flex align-items-stretch"><a class="page-link d-flex align-items-center" href="{{ path('app_actus', {'year': years[years|length-1]}) }}"><i class="bi bi-chevron-double-right"></i></a></li>
                {% endif %}
            </ul>
        </nav>
    </section>
    <section id="cardDiv" class="page-section">
        {% for actu in actus %}
            <div class="container d-flex flex-row flex-wrap justify-content-between">
                <div class="card mb-3 w-100">
                    <div class="row g-0">
                        <div class="col-md-4">
                            <img src="{{ asset('img/actus/' ~ actu.file ~ '') }}" class="img-fluid card-img-fill rounded-start"
                                 alt="...">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body text-start h-100 d-flex flex-column p-5">
                                <div>
                                <h5 class="card-title">{{ actu.title }}</h5>
                                    <p class="card-text">
                                        <small class="text-body-secondary fst-italic">
                                            {{ actu.dateString }}
                                        </small>
                                    </p>
                                </div>
                                <p class="card-text my-auto ">
                                    {{ actu.text|raw }}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </section>
{% endblock %}
